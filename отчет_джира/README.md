# Отчёт Jira: баглисты за месяц

Скрипт собирает все задачи типа **«Баг»** (русское название в Jira) за выбранный месяц и все их **сабтаски**, выгружает в Excel.

## Настройка

1. Заполните **config.json**:
   - **jira_base_url** — ссылка на ваш Jira, например `https://company.atlassian.net`
   - **jira_email** — email вашего аккаунта Atlassian
   - **jira_api_token** — API-токен (создать: [id.atlassian.com](https://id.atlassian.com) → Security → Create and manage API tokens)
   - **month** — месяц в формате **YYYY-MM** (например `2025-01` для января). Меняете только это поле — отчёт строится за другой месяц.
   - **project** — (опционально) ключ проекта в Jira (например `DB`). Если указан, в выборку попадают только задачи этого проекта — как в фильтре `project = DB`.

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

3. Запуск:
   ```bash
   python jira_report.py
   ```

В папке появится файл **jira_buglist_report_YYYY-MM.xlsx** с листами:

- **Баглисты** — все задачи типа «Баг» за месяц
- **Сабтаски** — все сабтаски с колонкой «Родитель (баглист)»
- **Сводка** — баглист и под ним все его сабтаски (удобно смотреть иерархию)
- **Листы по разработчикам** — отдельный лист на каждого исполнителя.  
  Правила распределения:
  - если у сабтаска нет исполнителя — он попадает к исполнителю баглиста
  - если у баглиста нет исполнителя — попадёт в лист **«Не назначено»**
  - в листе разработчика сначала идут **Task**, затем **баглисты и сабтаски**

## Время перехода статусов

В каждом листе добавлена колонка **`TASK→DEV TEST (раб. время)`**.  
Подсчёт идёт по рабочему времени: **09:00–12:00** и **13:00–18:00** (обед 12–13 не считается).  
Если перехода ещё не было — в колонке будет **«еще не было перехода»**.

Также добавлена колонка **`Дата DEV TEST`** — дата и время фактического перехода.

## Сабтаски не из баглистов

Сабтаски, которые не относятся к баглистам, добавляются в раздел **«Задачи (Task)»**
на листе разработчика.
